<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="“Collection” is the process of determining the type and other external details of each item in Rust. Collection is specifically concerned with inter-procedural things – for example, for a function definition, collection will figure out the type and signature of the function, but it will not visit the body of the function in any way, nor examine type annotations on local variables (that’s the job of type checking)."><meta name="keywords" content="rust, rustlang, rust-lang, collect"><title>rustc_hir_analysis::collect - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-0136d89ac73d270a.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-8fe2cf7ee64a76fb.css"><link rel="stylesheet" disabled href="../../static.files/dark-7aacebe982779e9a.css"><link rel="stylesheet" disabled href="../../static.files/ayu-29dcc614f7a7b461.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-a211dbb005fb8161.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../rustc_hir_analysis/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../rustc_hir_analysis/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module collect</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../index.html">rustc_hir_analysis</a>::<wbr><a class="mod" href="#">collect</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/rustc_hir_analysis/collect.rs.html#1-1446">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>“Collection” is the process of determining the type and other external
details of each item in Rust. Collection is specifically concerned
with <em>inter-procedural</em> things – for example, for a function
definition, collection will figure out the type and signature of the
function, but it will not visit the <em>body</em> of the function in any way,
nor examine type annotations on local variables (that’s the job of
type <em>checking</em>).</p>
<p>Collecting is ultimately defined by a bundle of queries that
inquire after various facts about the items in the crate (e.g.,
<code>type_of</code>, <code>generics_of</code>, <code>predicates_of</code>, etc). See the <code>provide</code> function
for the full set.</p>
<p>At present, however, we do run collection across all items in the
crate as a kind of pass. This should eventually be factored away.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="generics_of/index.html" title="rustc_hir_analysis::collect::generics_of mod">generics_of</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="item_bounds/index.html" title="rustc_hir_analysis::collect::item_bounds mod">item_bounds</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="lifetimes/index.html" title="rustc_hir_analysis::collect::lifetimes mod">lifetimes</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Resolution of early vs late bound lifetimes.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="predicates_of/index.html" title="rustc_hir_analysis::collect::predicates_of mod">predicates_of</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="mod" href="type_of/index.html" title="rustc_hir_analysis::collect::type_of mod">type_of</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.CollectItemTypesVisitor.html" title="rustc_hir_analysis::collect::CollectItemTypesVisitor struct">CollectItemTypesVisitor</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.HirPlaceholderCollector.html" title="rustc_hir_analysis::collect::HirPlaceholderCollector struct">HirPlaceholderCollector</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="struct" href="struct.ItemCtxt.html" title="rustc_hir_analysis::collect::ItemCtxt struct">ItemCtxt</a></div><div class="item-right docblock-short">Context specific to some particular item. This is what implements
<a href="../astconv/trait.AstConv.html" title="AstConv"><code>AstConv</code></a>.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.adt_def.html" title="rustc_hir_analysis::collect::adt_def fn">adt_def</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.are_suggestable_generic_args.html" title="rustc_hir_analysis::collect::are_suggestable_generic_args fn">are_suggestable_generic_args</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.bad_placeholder.html" title="rustc_hir_analysis::collect::bad_placeholder fn">bad_placeholder</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.check_impl_constness.html" title="rustc_hir_analysis::collect::check_impl_constness fn">check_impl_constness</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.collect_mod_item_types.html" title="rustc_hir_analysis::collect::collect_mod_item_types fn">collect_mod_item_types</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.compute_sig_of_foreign_fn_decl.html" title="rustc_hir_analysis::collect::compute_sig_of_foreign_fn_decl fn">compute_sig_of_foreign_fn_decl</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.convert_enum_variant_types.html" title="rustc_hir_analysis::collect::convert_enum_variant_types fn">convert_enum_variant_types</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.convert_impl_item.html" title="rustc_hir_analysis::collect::convert_impl_item fn">convert_impl_item</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.convert_item.html" title="rustc_hir_analysis::collect::convert_item fn">convert_item</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.convert_trait_item.html" title="rustc_hir_analysis::collect::convert_trait_item fn">convert_trait_item</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.convert_variant.html" title="rustc_hir_analysis::collect::convert_variant fn">convert_variant</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.convert_variant_ctor.html" title="rustc_hir_analysis::collect::convert_variant_ctor fn">convert_variant_ctor</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.early_bound_lifetimes_from_generics.html" title="rustc_hir_analysis::collect::early_bound_lifetimes_from_generics fn">early_bound_lifetimes_from_generics</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Returns the early-bound lifetimes declared in this generics
listing. For anything other than fns/methods, this is just all
the lifetimes that are declared. For fns or methods, we have to
screen out those that do not appear in any where-clauses etc using
<code>resolve_lifetime::early_bound_lifetimes</code>.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.fn_sig.html" title="rustc_hir_analysis::collect::fn_sig fn">fn_sig</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.generator_kind.html" title="rustc_hir_analysis::collect::generator_kind fn">generator_kind</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.get_infer_ret_ty.html" title="rustc_hir_analysis::collect::get_infer_ret_ty fn">get_infer_ret_ty</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.get_new_lifetime_name.html" title="rustc_hir_analysis::collect::get_new_lifetime_name fn">get_new_lifetime_name</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Synthesize a new lifetime name that doesn’t clash with any of the lifetimes already present.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.impl_polarity.html" title="rustc_hir_analysis::collect::impl_polarity fn">impl_polarity</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.impl_trait_ref.html" title="rustc_hir_analysis::collect::impl_trait_ref fn">impl_trait_ref</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.infer_return_ty_for_fn_sig.html" title="rustc_hir_analysis::collect::infer_return_ty_for_fn_sig fn">infer_return_ty_for_fn_sig</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.is_foreign_item.html" title="rustc_hir_analysis::collect::is_foreign_item fn">is_foreign_item</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.is_suggestable_infer_ty.html" title="rustc_hir_analysis::collect::is_suggestable_infer_ty fn">is_suggestable_infer_ty</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Whether <code>ty</code> is a type with <code>_</code> placeholders that can be inferred. Used in diagnostics only to
use inference to provide suggestions for the appropriate type if possible.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.placeholder_type_error.html" title="rustc_hir_analysis::collect::placeholder_type_error fn">placeholder_type_error</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">If there are any placeholder types (<code>_</code>), emit an error explaining that this is not allowed
and suggest adding type parameters in the appropriate place, taking into consideration any and
all already existing generic type parameters to avoid suggesting a name that is already in use.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.placeholder_type_error_diag.html" title="rustc_hir_analysis::collect::placeholder_type_error_diag fn">placeholder_type_error_diag</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.predicates_defined_on.html" title="rustc_hir_analysis::collect::predicates_defined_on fn">predicates_defined_on</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="item-right docblock-short">Returns a list of type predicates for the definition with ID <code>def_id</code>, including inferred
lifetime constraints. This includes all predicates returned by <code>explicit_predicates_of</code>, plus
inferred constraints concerning which regions outlive other regions.</div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.provide.html" title="rustc_hir_analysis::collect::provide fn">provide</a></div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.reject_placeholder_type_signatures_in_item.html" title="rustc_hir_analysis::collect::reject_placeholder_type_signatures_in_item fn">reject_placeholder_type_signatures_in_item</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div><div class="item-row"><div class="item-left unstable module-item"><a class="fn" href="fn.trait_def.html" title="rustc_hir_analysis::collect::trait_def fn">trait_def</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_hir_analysis" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-dev" data-search-js="search-2dc3ecf90030732f.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>